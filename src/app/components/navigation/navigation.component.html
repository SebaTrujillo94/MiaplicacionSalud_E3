<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start" *ngIf="showBackButton">
      <ion-button (click)="goBack()">
        <ion-icon name="chevron-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    
    <ion-title>{{ pageTitle }}</ion-title>
    
    <ion-buttons slot="end">
      <ion-button (click)="togglePopover()" id="nav-trigger">
        <ion-icon name="menu-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<!-- Popover de Navegación -->
<ion-popover 
  trigger="nav-trigger" 
  [isOpen]="isPopoverOpen" 
  (didDismiss)="isPopoverOpen = false"
  showBackdrop="true">
  <ng-template>
    <ion-content>
      <ion-list>
        <ion-item 
          *ngFor="let item of getMenuItems()" 
          button 
          (click)="navigateTo(item.route)"
          class="nav-item">
          <ion-icon [name]="item.icon" slot="start" color="primary"></ion-icon>
          <ion-label>{{ item.label }}</ion-label>
        </ion-item>
        
        <ion-item 
          button 
          (click)="logout()" 
          class="nav-item logout-item">
          <ion-icon name="log-out-outline" slot="start" color="danger"></ion-icon>
          <ion-label color="danger">Cerrar Sesión</ion-label>
        </ion-item>
      </ion-list>
    </ion-content>
  </ng-template>
</ion-popover>
