<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Inicio</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="toggleTheme()" fill="clear">
        <ion-icon [name]="isDark ? 'sunny' : 'moon'"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <!-- Clima Mejorado -->
  <ion-card class="weather-card animated-card" *ngIf="clima">
    <ion-card-content class="weather-content">
      <div class="weather-header">
        <div class="weather-location">
          <ion-icon name="location-outline" color="primary"></ion-icon>
          <span class="location-text">{{ clima.data[0].city_name }}, {{ clima.data[0].country_code }}</span>
        </div>
        <div class="weather-time">
          <ion-icon name="time-outline" color="medium"></ion-icon>
          <span class="time-text">{{ getCurrentTime() }}</span>
        </div>
      </div>
      
      <div class="weather-main">
        <div class="temperature-section">
          <div class="temperature">{{ clima.data[0].temp }}°</div>
          <div class="feels-like">Sensación {{ clima.data[0].app_temp }}°</div>
        </div>
        
        <div class="weather-icon-section">
          <div class="weather-icon">
            <ion-icon [name]="getWeatherIcon(clima.data[0].weather.code)" size="large" [color]="getWeatherColor(clima.data[0].weather.code)"></ion-icon>
          </div>
          <div class="weather-description">{{ clima.data[0].weather.description }}</div>
        </div>
      </div>
      
      <div class="weather-details">
        <div class="detail-item">
          <ion-icon name="eye-outline" color="primary"></ion-icon>
          <span class="detail-label">Visibilidad</span>
          <span class="detail-value">{{ clima.data[0].vis }} km</span>
        </div>
        
        <div class="detail-item">
          <ion-icon name="water-outline" color="primary"></ion-icon>
          <span class="detail-label">Humedad</span>
          <span class="detail-value">{{ clima.data[0].rh }}%</span>
        </div>
        
        <div class="detail-item">
          <ion-icon name="leaf-outline" color="primary"></ion-icon>
          <span class="detail-label">Viento</span>
          <span class="detail-value">{{ clima.data[0].wind_spd.toFixed(1) }} km/h</span>
        </div>
        
        <div class="detail-item">
          <ion-icon name="speedometer-outline" color="primary"></ion-icon>
          <span class="detail-label">Presión</span>
          <span class="detail-value">{{ clima.data[0].pres.toFixed(0) }} hPa</span>
        </div>
      </div>
      
      <div class="weather-footer">
        <ion-button size="small" fill="clear" color="medium" (click)="refreshWeather()">
          <ion-icon name="refresh-outline" slot="start"></ion-icon>
          Actualizar
        </ion-button>
        <div class="last-update">
          <ion-icon name="cloud-download-outline" color="medium"></ion-icon>
          <span>Actualizado hace {{ getTimeSinceUpdate() }}</span>
        </div>
      </div>
    </ion-card-content>
  </ion-card>

  <!-- Bienvenida -->
  <ion-card class="animated-card">
    <ion-card-header>
      <ion-card-title>
        Bienvenido, {{ usuario }}
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>Accede a tus servicios de salud, agenda tus citas y consulta tu información personal.</p>
    </ion-card-content>
  </ion-card>

  <!-- Botones de navegación -->
  <div>
    <ion-button expand="block" color="primary" (click)="irAPerfil()" class="animated-btn">Mi Perfil</ion-button>
    <ion-button expand="block" color="primary" fill="outline" (click)="irAContacto()" class="animated-btn">Registros de Horas</ion-button>
    <ion-button expand="block" color="secondary" (click)="irAQuienesSomos()" class="animated-btn">Quiénes Somos</ion-button>
    <ion-button expand="block" color="danger" (click)="cerrarSesion()" class="animated-btn">Cerrar Sesión</ion-button>
  </div>

  <!-- Tarjeta: Atención en Clínica -->
  <ion-card class="animated-card">
    <ion-card-header>
      <ion-card-title>
        Atención en Clínica
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      Brindamos atención médica personalizada en nuestras modernas instalaciones.
    </ion-card-content>
    <img src="assets/clinica1.jpg" alt="Atención en Clínica" style="width:100%; max-height:300px; object-fit:cover; border-radius: 12px;">
  </ion-card>
  
  <!-- Tarjeta: Equipo Médico Especializado -->
  <ion-card class="animated-card">
    <ion-card-header>
      <ion-card-title>
        Equipo Médico Especializado
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      Nuestro equipo está formado por profesionales altamente capacitados.
    </ion-card-content>
    <img src="assets/clinica2.jpg" alt="Equipo Médico" style="width:100%; max-height:300px; object-fit:cover; border-radius: 12px;">
  </ion-card>

</ion-content>

<ion-footer>
  <ion-toolbar color="light">
    <ion-title size="small" style="text-align:center; font-size: 14px;">
      © 2025 SaludApp Clínica · <ion-icon name="call-outline"></ion-icon> 0800-123-SALUD · <ion-icon name="mail-outline"></ion-icon> contacto&#64;saludapp.com
    </ion-title>
  </ion-toolbar>
</ion-footer>